<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: TokyoCabinet::HDB</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">TokyoCabinet::HDB</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/tokyocabinet-doc_rb.html">
                tokyocabinet-doc.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Hash database is a file containing a hash table and is handled with the
hash database API. Before operations to store or retrieve records, it is
necessary to open a database file and connect the hash database object to
it. To avoid data missing or corruption, it is important to close every
database file when it is no longer in use. Except for the interface below,
methods compatible with the `Hash' class are also provided;
`[]', `[]=', `store', `delete', `fetch',
`has_key?', `has_value?', `key', `clear',
`size', `empty?', `each', `each_key',
`each_value', `keys', and `value'.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000046">close</a>&nbsp;&nbsp;
      <a href="#M000059">copy</a>&nbsp;&nbsp;
      <a href="#M000043">ecode</a>&nbsp;&nbsp;
      <a href="#M000042">errmsg</a>&nbsp;&nbsp;
      <a href="#M000062">fsiz</a>&nbsp;&nbsp;
      <a href="#M000052">get</a>&nbsp;&nbsp;
      <a href="#M000054">iterinit</a>&nbsp;&nbsp;
      <a href="#M000055">iternext</a>&nbsp;&nbsp;
      <a href="#M000041">new</a>&nbsp;&nbsp;
      <a href="#M000045">open</a>&nbsp;&nbsp;
      <a href="#M000057">optimize</a>&nbsp;&nbsp;
      <a href="#M000051">out</a>&nbsp;&nbsp;
      <a href="#M000060">path</a>&nbsp;&nbsp;
      <a href="#M000047">put</a>&nbsp;&nbsp;
      <a href="#M000050">putasync</a>&nbsp;&nbsp;
      <a href="#M000049">putcat</a>&nbsp;&nbsp;
      <a href="#M000048">putkeep</a>&nbsp;&nbsp;
      <a href="#M000061">rnum</a>&nbsp;&nbsp;
      <a href="#M000056">sync</a>&nbsp;&nbsp;
      <a href="#M000044">tune</a>&nbsp;&nbsp;
      <a href="#M000058">vanish</a>&nbsp;&nbsp;
      <a href="#M000053">vsiz</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCESUCCESS</td>
          <td>=</td>
          <td class="context-item-value">0</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: success

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCETHREAD</td>
          <td>=</td>
          <td class="context-item-value">1</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: threading error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCEINVALID</td>
          <td>=</td>
          <td class="context-item-value">2</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: invalid operation

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCENOFILE</td>
          <td>=</td>
          <td class="context-item-value">3</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: file not found

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCENOPERM</td>
          <td>=</td>
          <td class="context-item-value">4</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: no permission

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCEMETA</td>
          <td>=</td>
          <td class="context-item-value">5</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: invalid meta data

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCERHEAD</td>
          <td>=</td>
          <td class="context-item-value">6</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: invalid record header

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCEOPEN</td>
          <td>=</td>
          <td class="context-item-value">7</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: open error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCECLOSE</td>
          <td>=</td>
          <td class="context-item-value">8</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: close error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCETRUNC</td>
          <td>=</td>
          <td class="context-item-value">9</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: trunc error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCESYNC</td>
          <td>=</td>
          <td class="context-item-value">10</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: sync error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCESTAT</td>
          <td>=</td>
          <td class="context-item-value">11</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: stat error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCESEEK</td>
          <td>=</td>
          <td class="context-item-value">12</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: seek error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCEREAD</td>
          <td>=</td>
          <td class="context-item-value">13</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: read error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCEWRITE</td>
          <td>=</td>
          <td class="context-item-value">14</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: write error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCEMMAP</td>
          <td>=</td>
          <td class="context-item-value">15</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: mmap error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCELOCK</td>
          <td>=</td>
          <td class="context-item-value">16</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: lock error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCEUNLINK</td>
          <td>=</td>
          <td class="context-item-value">17</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: unlink error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCERENAME</td>
          <td>=</td>
          <td class="context-item-value">18</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: rename error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCEMKDIR</td>
          <td>=</td>
          <td class="context-item-value">19</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: mkdir error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCERMDIR</td>
          <td>=</td>
          <td class="context-item-value">20</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: rmdir error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCEKEEP</td>
          <td>=</td>
          <td class="context-item-value">21</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: existing record

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCENOREC</td>
          <td>=</td>
          <td class="context-item-value">22</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: no record found

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCEMISC</td>
          <td>=</td>
          <td class="context-item-value">9999</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: miscellaneous error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TLARGE</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 0</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
tuning option: use 64-bit bucket array

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TDEFLATE</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 1</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
tuning option: compress each record with Deflate

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TTCBS</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 2</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
tuning option: compress each record with TCBS

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OREADER</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 0</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
open mode: open as a reader

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OWRITER</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 1</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
open mode: open as a writer

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OCREAT</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 2</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
open mode: writer creating

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OTRUNC</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 3</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
open mode: writer truncating

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ONOLCK</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 4</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
open mode: open without locking

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OLCKNB</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 5</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
open mode: lock without blocking

</td>
        </tr>
        </table>
      </div>
    </div>



      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000041" class="method-detail">
        <a name="M000041"></a>

        <div class="method-heading">
          <a href="HDB.src/M000041.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000041.html');return false;">
          <span class="method-name">new</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Create a hash database object. The return value is the new hash database
object.
</p>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000046" class="method-detail">
        <a name="M000046"></a>

        <div class="method-heading">
          <a href="HDB.src/M000046.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000046.html');return false;">
          <span class="method-name">close</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Close the database file. If successful, the return value is true, else, it
is false. Update of a database is assured to be written when the database
is closed. If a writer opens a database but does not close it
appropriately, the database will be broken.
</p>
        </div>
      </div>

      <div id="method-M000059" class="method-detail">
        <a name="M000059"></a>

        <div class="method-heading">
          <a href="HDB.src/M000059.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000059.html');return false;">
          <span class="method-name">copy</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Copy the database file. `<em>path</em>' specifies the path of the
destination file. If it begins with `@', the trailing substring is
executed as a command line. If successful, the return value is true, else,
it is false. False is returned if the executed command returns non-zero
code. The database file is assured to be kept synchronized and not modified
while the copying or executing operation is in progress. So, this method is
useful to create a backup file of the database file.
</p>
        </div>
      </div>

      <div id="method-M000043" class="method-detail">
        <a name="M000043"></a>

        <div class="method-heading">
          <a href="HDB.src/M000043.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000043.html');return false;">
          <span class="method-name">ecode</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the last happened error code. The return value is the last happened
error code.
</p>
        </div>
      </div>

      <div id="method-M000042" class="method-detail">
        <a name="M000042"></a>

        <div class="method-heading">
          <a href="HDB.src/M000042.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000042.html');return false;">
          <span class="method-name">errmsg</span><span class="method-args">(ecode)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the message string corresponding to an error code.
`<em>ecode</em>' specifies the error code. The return value is the
message string of the error code.
</p>
        </div>
      </div>

      <div id="method-M000062" class="method-detail">
        <a name="M000062"></a>

        <div class="method-heading">
          <a href="HDB.src/M000062.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000062.html');return false;">
          <span class="method-name">fsiz</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the size of the database file. The return value is the size of the
database file or 0 if the object does not connect to any database file.
</p>
        </div>
      </div>

      <div id="method-M000052" class="method-detail">
        <a name="M000052"></a>

        <div class="method-heading">
          <a href="HDB.src/M000052.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000052.html');return false;">
          <span class="method-name">get</span><span class="method-args">(key)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retrieve a record. `<em>key</em>' specifies the key. If successful,
the return value is the value of the corresponding record. `nil' is
returned if no record corresponds.
</p>
        </div>
      </div>

      <div id="method-M000054" class="method-detail">
        <a name="M000054"></a>

        <div class="method-heading">
          <a href="HDB.src/M000054.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000054.html');return false;">
          <span class="method-name">iterinit</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Initialize the iterator. If successful, the return value is true, else, it
is false. The iterator is used in order to access the key of every record
stored in a database.
</p>
        </div>
      </div>

      <div id="method-M000055" class="method-detail">
        <a name="M000055"></a>

        <div class="method-heading">
          <a href="HDB.src/M000055.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000055.html');return false;">
          <span class="method-name">iternext</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the next key of the iterator. If successful, the return value is the
next key, else, it is `nil'. `nil' is returned when no record
is to be get out of the iterator. It is possible to access every record by
iteration of calling this method. It is allowed to update or remove records
whose keys are fetched while the iteration. However, it is not assured if
updating the database is occurred while the iteration. Besides, the order
of this traversal access method is arbitrary, so it is not assured that the
order of storing matches the one of the traversal access.
</p>
        </div>
      </div>

      <div id="method-M000045" class="method-detail">
        <a name="M000045"></a>

        <div class="method-heading">
          <a href="HDB.src/M000045.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000045.html');return false;">
          <span class="method-name">open</span><span class="method-args">(path, omode)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Open a database file. `<em>path</em>' specifies the path of the
database file. `<em>omode</em>' specifies the connection mode:
`TokyoCabinet::HDB::OWRITER' as a writer,
`TokyoCabinet::HDB::OREADER' as a reader. If the mode is
`TokyoCabinet::HDB::OWRITER', the following may be added by bitwise
or: `TokyoCabinet::HDB::OCREAT', which means it creates a new
database if not exist, `TokyoCabinet::HDB::OTRUNC', which means it
creates a new database regardless if one exists. Both of
`TokyoCabinet::HDB::OREADER' and `TokyoCabinet::HDB::OWRITER'
can be added to by bitwise or: `TokyoCabinet::HDB::ONOLCK', which
means it opens the database file without file locking, or
`TokyoCabinet::HDB::OLCKNB', which means locking is performed without
blocking. If it is not defined, `TokyoCabinet::HDB::OREADER' is
specified. If successful, the return value is true, else, it is false.
</p>
        </div>
      </div>

      <div id="method-M000057" class="method-detail">
        <a name="M000057"></a>

        <div class="method-heading">
          <a href="HDB.src/M000057.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000057.html');return false;">
          <span class="method-name">optimize</span><span class="method-args">(bnum, apow, fpow, opts)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Optimize the database file. `<em>bnum</em>' specifies the number of
elements of the bucket array. If it is not defined or not more than 0, the
default value is specified. The default value is two times of the number of
records. `<em>apow</em>' specifies the size of record alignment by
power of 2. If it is not defined or negative, the current setting is not
changed. `<em>fpow</em>' specifies the maximum number of elements of
the free block pool by power of 2. If it is not defined or negative, the
current setting is not changed. `<em>opts</em>' specifies options by
bitwise or: `TokyoCabinet::HDB::TLARGE' specifies that the size of
the database can be larger than 2GB by using 64-bit bucket array,
`TokyoCabinet::HDB::TDEFLATE' specifies that each record is
compressed with Deflate encoding, `TokyoCabinet::HDB::TTCBS'
specifies that each record is compressed with TCBS encoding. If it is not
defined or 0xff, the current setting is not changed. If successful, the
return value is true, else, it is false. This method is useful to reduce
the size of the database file with data fragmentation by successive
updating.
</p>
        </div>
      </div>

      <div id="method-M000051" class="method-detail">
        <a name="M000051"></a>

        <div class="method-heading">
          <a href="HDB.src/M000051.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000051.html');return false;">
          <span class="method-name">out</span><span class="method-args">(key)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Remove a record. `<em>key</em>' specifies the key. If successful, the
return value is true, else, it is false.
</p>
        </div>
      </div>

      <div id="method-M000060" class="method-detail">
        <a name="M000060"></a>

        <div class="method-heading">
          <a href="HDB.src/M000060.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000060.html');return false;">
          <span class="method-name">path</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the path of the database file. The return value is the path of the
database file or `nil' if the object does not connect to any database
file.
</p>
        </div>
      </div>

      <div id="method-M000047" class="method-detail">
        <a name="M000047"></a>

        <div class="method-heading">
          <a href="HDB.src/M000047.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000047.html');return false;">
          <span class="method-name">put</span><span class="method-args">(key, value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Store a record. `<em>key</em>' specifies the key.
`<em>value</em>' specifies the value. If successful, the return value
is true, else, it is false. If a record with the same key exists in the
database, it is overwritten.
</p>
        </div>
      </div>

      <div id="method-M000050" class="method-detail">
        <a name="M000050"></a>

        <div class="method-heading">
          <a href="HDB.src/M000050.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000050.html');return false;">
          <span class="method-name">putasync</span><span class="method-args">(key, value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Store a record in asynchronous fashion. `<em>key</em>' specifies the
key. `<em>value</em>' specifies the value. If successful, the return
value is true, else, it is false. If a record with the same key exists in
the database, it is overwritten. Records passed to this method are
accumulated into the inner buffer and wrote into the file at a blast.
</p>
        </div>
      </div>

      <div id="method-M000049" class="method-detail">
        <a name="M000049"></a>

        <div class="method-heading">
          <a href="HDB.src/M000049.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000049.html');return false;">
          <span class="method-name">putcat</span><span class="method-args">(key, value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Concatenate a value at the end of the existing record. `<em>key</em>'
specifies the key. `<em>value</em>' specifies the value. If
successful, the return value is true, else, it is false. If there is no
corresponding record, a new record is created.
</p>
        </div>
      </div>

      <div id="method-M000048" class="method-detail">
        <a name="M000048"></a>

        <div class="method-heading">
          <a href="HDB.src/M000048.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000048.html');return false;">
          <span class="method-name">putkeep</span><span class="method-args">(key, value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Store a new record. `<em>key</em>' specifies the key.
`<em>value</em>' specifies the value. If successful, the return value
is true, else, it is false. If a record with the same key exists in the
database, this method has no effect.
</p>
        </div>
      </div>

      <div id="method-M000061" class="method-detail">
        <a name="M000061"></a>

        <div class="method-heading">
          <a href="HDB.src/M000061.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000061.html');return false;">
          <span class="method-name">rnum</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the number of records. The return value is the number of records or 0
if the object does not connect to any database file.
</p>
        </div>
      </div>

      <div id="method-M000056" class="method-detail">
        <a name="M000056"></a>

        <div class="method-heading">
          <a href="HDB.src/M000056.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000056.html');return false;">
          <span class="method-name">sync</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Synchronize updated contents with the file and the device. If successful,
the return value is true, else, it is false. This method is useful when
another process connects the same database file.
</p>
        </div>
      </div>

      <div id="method-M000044" class="method-detail">
        <a name="M000044"></a>

        <div class="method-heading">
          <a href="HDB.src/M000044.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000044.html');return false;">
          <span class="method-name">tune</span><span class="method-args">(bnum, apow, fpow, opts)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Set the tuning parameters. `<em>bnum</em>' specifies the number of
elements of the bucket array. If it is not defined or not more than 0, the
default value is specified. The default value is 16381. Suggested size of
the bucket array is about from 0.5 to 4 times of the number of all records
to be stored. `<em>apow</em>' specifies the size of record alignment
by power of 2. If it is not defined or negative, the default value is
specified. The default value is 4 standing for 2^4=16.
`<em>fpow</em>' specifies the maximum number of elements of the free
block pool by power of 2. If it is not defined or negative, the default
value is specified. The default value is 10 standing for 2^10=1024.
`<em>opts</em>' specifies options by bitwise or:
`TokyoCabinet::HDB::TLARGE' specifies that the size of the database
can be larger than 2GB by using 64-bit bucket array,
`TokyoCabinet::HDB::TDEFLATE' specifies that each record is
compressed with Deflate encoding, `TokyoCabinet::HDB::TTCBS'
specifies that each record is compressed with TCBS encoding. If it is not
defined, no option is specified. If successful, the return value is true,
else, it is false. Note that the tuning parameters of the database should
be set before the database is opened.
</p>
        </div>
      </div>

      <div id="method-M000058" class="method-detail">
        <a name="M000058"></a>

        <div class="method-heading">
          <a href="HDB.src/M000058.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000058.html');return false;">
          <span class="method-name">vanish</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Remove all records. If successful, the return value is true, else, it is
false.
</p>
        </div>
      </div>

      <div id="method-M000053" class="method-detail">
        <a name="M000053"></a>

        <div class="method-heading">
          <a href="HDB.src/M000053.html" target="Code" class="method-signature"
            onclick="popupCode('HDB.src/M000053.html');return false;">
          <span class="method-name">vsiz</span><span class="method-args">(key)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the size of the value of a record. `<em>key</em>' specifies the
key. If successful, the return value is the size of the value of the
corresponding record, else, it is -1.
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
</div>

</body>
</html>
